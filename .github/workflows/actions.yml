name: ci

on:
  push:
    branches:
      - "main"
      - "develop"
      - "ci"

env:
  TAG_NAME: ${{ github.repository }}:${{ github.sha }}


concurrency:
  group: ${{ github.ref }}
  cancel-in-progress: true

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - 
        name: install
        run: |
          python -m pip install --upgrade pip
          pip install pylint pytest-cov
  lint:
    runs-on: ubuntu-latest
    needs: build
    steps:
      -
        name: Lint
        run: pylint life_expectancy.cleaning
  test:
    runs-on: ubuntu-latest
    needs: build
    steps:
      -
        name: Test
        run: pytest life_expectancy --cov 
